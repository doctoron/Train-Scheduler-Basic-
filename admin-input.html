<!DOCTYPE html>
<html lang="en">

    <head>
        <title>Admin Input</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" media="screen" href="./assets/css/style.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
        <!-- Firebase App is always required and must be first -->
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase-database.js"></script>
        <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>


    </head>

    <body>

        <nav class="w3-navbar navbar-inverse visible">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                    <!-- Administrative Login for adding new trains -->
                    <a class="navbar-brand" href="#">Login</a>
                    <a class="navbar-brand" id="login" href="#"><img src="./assets/images/train.png"></a>
                </div>

                <div class="collapse navbar-collapse" id="myNavbar">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#">Home</a></li>
                        <li><a href="#">Schedules</a></li>
                        <li><a href="#">Fares & Tolls</a></li>
                        <li><a href="#">Weather</a></li>
                        <li><a href="#">Maps</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row content">
                <div class="col-sm-3 sidenav hidden-xs">
                    <img src="assets/images/administrative-tools.png">

                    <!-- Form for input of train data -->
                    <form>
                        <div class="form-group">
                            <label for="name-input"> Train Name:</label>
                            <input type="tName" class="form-control" id="tName" placeholder="Name">
                        </div>
                        <div class="form-group">
                            <label for="destination-input">Destination:</label>
                            <input type="tDestination" class="form-control" id="tDestination" placeholder="Destination">
                        </div>
                        <div class="form-group">
                            <label for="time-input">First Train Time (24-hour clock)</label>
                            <input type="tTime" class="form-control" id="tTime" placeholder="Time">
                        </div>
                        <div class="form-group">
                            <label for="frequency-input">First Train Time (Minutes)</label>
                            <input type="tFrequency" class="form-control" id="tFrequency" placeholder="Frequency">
                        </div>
                        <!-- Submit button for new train form data -->
                        <button type="submt" id="submit" class="w3-btn btn-primary">Add Train</button>

                    </form>
                    <!-- <ul class="nav nav-pills nav-stacked">
                                                            <li class="active"><a href="#section1">Administrators</a></li>
                                                            <li><a href="#section2">Train Name</a></li>
                                                            <li><a href="#section3">Destination</a></li>
                                                            <li><a href="#section3">First Train Time</a></li>
                                                            <li><a href="#section3">Frequency</a></li>
                                                        </ul><br> -->
                </div>
                <br>

                <div class="col-sm-9">
                    <div class="well">
                        <h1>Super Basic Transit Authority</h1>
                        <h4>The SBTA rail system is the fastest and most efficient way for tourists to explore
                            our town.</h4>
                    </div>
                    <div class="row">
                        <div class="card"></div>

                        <form>
                            <div class="form-group">
                                <!-- Administrative tools in table -->
                                <table class="table table-dark" id="newtrain">
                                    <th>
                                        <tr>
                                            <th scope="col">Train Name</th>
                                            <th scope="col">Destination</th>
                                            <th scope="col">First Train Time (24-hour clock)</th>
                                            <th scope="col">Frequency (Minutes)</th>
                                            <th scope="col">Next Train</th>
                                        </tr>
                                    </th>
                                </table>
                        </form>
                    </div>
                </div>
                <div class="container">
                    <div class="footer">
                        <h6>Copyright Â© 2019 Ronald K. Antonio--UCF Coding Bootcamp</h6>
                        </footer>
                    </div>
                </div>
            </div>
        </div>

        <script>

            // Initialize Firebase
            var config = {
                apiKey: "AIzaSyC0Y-GrPY5GiAOP2IQTiFNhVldqqqrtkpc",
                authDomain: "train-scheduler-9a3f9.firebaseapp.com",
                databaseURL: "https://train-scheduler-9a3f9.firebaseio.com",
                projectId: "train-scheduler-9a3f9",
                storageBucket: "train-scheduler-9a3f9.appspot.com",
                messagingSenderId: "431749954222"
            };
            firebase.initializeApp(config);

            var database = firebase.database();
            // jQuery on click will grab ID and execute
            $("#submit").on("click", function (event) {
                event.preventDefault();

                // Grab variable from the form
                let Name = $("#tName").val().trim();
                let Destination = $("#tDestination").val().trim();
                let FirstTrain = $("#tTime").val().trim();
                let Frequency = $("#tFrequency").val().trim();

                // Package entire form as an object to send to Firebase
                let newTrain = {
                    name: Name,
                    destination: Destination,
                    firsttrain: FirstTrain,
                    frequency: Frequency
                };
                // Push object to Firebase (which will convert data into an array of objects in table)
                database.ref().push(newTrain);
            });


                                        // let trainTimes = document.getElementById('trainbody');
                                        // let dbRef = firebase.database().ref().child('Name');
                                        // let dbRef = firebase.database().ref().child('Destination');
                                        // let dbRef = firebase.database().ref().child('Destination');
                                        // let dbRef = firebase.database().ref().child('Destination');
                                        // let dbRef = firebase.database().ref().child('Destination');
                                        // dbRef.on('value', snap => arriving.innerText = snap.val());

        </script>
        <script src="./assets/javascript/app.js"></script>
    </body>

</html>